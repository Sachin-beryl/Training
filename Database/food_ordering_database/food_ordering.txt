----------------------------------------------------------food ordering-----------------------------------------------------------------

 1). Database creation :-
 	 CREATE DATABASE food_ordering
 	 
 2). menu_items table created :-
 
 	 CREATE TABLE menu_items (
	  id BIGSERIAL PRIMARY KEY,
	  restaurant_id integer,
	  menu_category_id integer,
	  name varchar(50),
	  price integer,
	  Description varchar(100),
	  veg boolean
	);
	
 3). customers table creation :- 
 
 	CREATE TABLE customers (
	  id BIGSERIAL PRIMARY KEY,
	  First_name varchar(20),
	  Last_name varchar(20),
	  Email varchar(100),
	  Phone varchar,
	  Username varchar(50),
	  Password varchar(50),
	  Address_id integer,
	  dob Date,
	  Created_at timestamptz,
	  gender varchar
	);
	
 4). orders table creation :-
 
 	CREATE TABLE orders (
	  id BIGSERIAL PRIMARY KEY,
	  Customer_id integer,
	  restaurant_id integer,
	  customer_address_id integer,
	  amount integer,
	  Created_at timestamp,
	  status_id integer,
	  rider_id integer
	);
	
 5). order_details table creation :-
 
 	CREATE TABLE order_details (
	  id BIGSERIAL PRIMARY KEY,
	  Order_id integer,
	  menu_item_id integer,
	  quantity integer,
	  item_price integer,
	  total_price integer
	);
	
 6). payments table creation :-
 
 	CREATE TABLE payments (
	  id BIGSERIAL PRIMARY KEY,
	  Order_id integer,
	  date Date
	);
	
 7). ratings table creation :-
 
 	CREATE TYPE score AS ENUM (          #user define data type for scale attribute
	  '1',
	  '2',
	  '3',
	  '4',
	  '5'
	);
	
	
	CREATE TABLE ratings (               #rating table 
	  id BIGSERIAL PRIMARY KEY,
	  Scale score,
	  comment varchar(200),
	  rating_for_id integer,
	  date Date,
	  Customer_id integer
	);

 8). cart_items table creation :-
 
 	CREATE TABLE cart_items (
	  id BIGSERIAL PRIMARY KEY,
	  Customer_id integer,
	  menu_item_id integer,
	  Created_at Date,
	  Updated_at Date
	);
	
 9). checkout_details table creation :-
 
 	CREATE TABLE checkout_details (
	  id BIGSERIAL PRIMARY KEY,
	  Order_id integer,
	  Check_at date,
	  customer_address_id integer,
	  Delivery_charge integer
	);
	
 10). status table creation :-
 
	 CREATE TABLE status (
	  id BIGSERIAL PRIMARY KEY,
	  name varchar
	);
		
 11). restaurants table creation :-
 
 	CREATE TABLE restaurants (
	  id BIGSERIAL PRIMARY KEY,
	  name varchar(50),
	  veg boolean,
	  restaurant_categories_id integer,
	  address varchar(100),
	  contact_person varchar,
	  contact_person_number varchar,
	  open_time timestamp,
	  close_time timestamp,
	  rating_for_id integer
	);
	
 12). menu_categories table creation :-
 
 	CREATE TABLE menu_categories (
	  id integer PRIMARY KEY,
	  name varchar(100)
	);
	
 13). customer_address table creation :-
 
 	CREATE TABLE customer_address (
	  id integer PRIMARY KEY,
	  name varchar,
	  house_no integer,
	  street_no integer,
	  locality varchar,
	  city varchar,
	  zip_code varchar,
	  land_mark varchar
	);
	
 14). rating_for table creation :-
 
 	CREATE TABLE rating_for (
	  id integer PRIMARY KEY,
	  name varchar
	);
	
 15). riders table creation :-
 
 	CREATE TABLE riders (
	  id integer PRIMARY KEY,
	  name varchar,
	  gender varchar,
	  dob varchar,
	  Aadhar_card_number varchar,
	  Driving_license_number varchar,
	  vehicle_id integer
	);
	
 16). vehicles table creation :-
 
 	CREATE TABLE vehicles (
	  id integer PRIMARY KEY,
	  name varchar,
	  brand_name varchar,
	  registration_number integer,
	  purchase_date Date,
	  RC varchar,
	  insurance_certificate_number varchar,
	  pollution_certificate_number varchar
	);
	
 17). restaurant_categories table creation :-
 
 	CREATE TABLE restaurant_categories (
	  id integer PRIMARY KEY,
	  name varchar
	);
	
	
 18). Making foreign keys :-
 
 	a). ALTER TABLE "menu_items" ADD FOREIGN KEY ("menu_category_id") REFERENCES "menu_categories" ("id");
 	b). ALTER TABLE "orders" ADD FOREIGN KEY ("status_id") REFERENCES "status" ("id");
	c). ALTER TABLE "order_details" ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id");
	d). ALTER TABLE "payments" ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id");
	e). ALTER TABLE "ratings" ADD FOREIGN KEY ("customer_id") REFERENCES "customers" ("id");
	f). ALTER TABLE "cart_items" ADD FOREIGN KEY ("customer_id") REFERENCES "customers" ("id");
	g). ALTER TABLE "cart_items" ADD FOREIGN KEY ("menu_item_id") REFERENCES "menu_items" ("id");
	h). ALTER TABLE "checkout_details" ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id");
	i). ALTER TABLE "checkout_details" ADD FOREIGN KEY ("customer_address_id") REFERENCES "customer_address" ("id");
	j). ALTER TABLE "restaurants" ADD FOREIGN KEY ("rating_for_id") REFERENCES "rating_for" ("id");
	k). ALTER TABLE "riders" ADD FOREIGN KEY ("vehicle_id") REFERENCES "vehicles" ("id");
	l). ALTER TABLE "orders" ADD FOREIGN KEY ("restaurant_id") REFERENCES "restaurants" ("id");
	m). ALTER TABLE "orders" ADD FOREIGN KEY ("customer_address_id") REFERENCES "customer_address" ("id");
	n). ALTER TABLE "orders" ADD FOREIGN KEY ("rider_id") REFERENCES "riders" ("id");
	o). ALTER TABLE "order_details" ADD FOREIGN KEY ("menu_item_id") REFERENCES "menu_items" ("id");
	p). ALTER TABLE "ratings" ADD FOREIGN KEY ("rating_for_id") REFERENCES "rating_for" ("id");
	q). ALTER TABLE "restaurants" ADD FOREIGN KEY ("restaurant_categories_id") REFERENCES "restaurant_categories" ("id");
	
	
 ----------------------------------------------------------------------------------------------------------------------------------
 							insertion using csv files

 19). insertion in cart_items :-
 
	 COPY cart_items(customer_id,menu_item_id,created_at,updated_at)
	 FROM '/home/beryl/Desktop/demo/something/food_ordering_tables/cart_items.csv' 
	 DELIMITER ',' CSV HEADER;
	
	food_ordering=# select * from cart_items;
	 id | customer_id | menu_item_id | created_at | updated_at 
	----+-------------+--------------+------------+------------
	  6 |           3 |            7 | 2023-02-02 | 2023-02-02
	  7 |           8 |           12 | 2023-01-07 | 2023-01-08
	  8 |          14 |           10 | 2022-12-17 | 2022-12-17
	  9 |           9 |           17 | 2023-02-18 | 2023-02-18
	 10 |           8 |           19 | 2023-01-28 | 2023-01-28
	 
 20). insertion in customers :-
 
 	COPY customers(first_name,last_name,email,phone,username,password,address_id,dob,created_at,gender)
	FROM '/home/beryl/Desktop/demo/something/food_ordering_tables/customers.csv' 
	DELIMITER ',' CSV HEADER ;
	
	select * from customers;
	
 id | first_name | last_name  |            email            |   phone    |   username   |   password   | address_id |    dob     |        created_at         | gender 
----+------------+------------+-----------------------------+------------+--------------+--------------+------------+------------+---------------------------+--------
 16 | Norah      | Bulluck    | nbulluck0@timesonline.co.uk | 4498136144 | nbulluck0    | m6R1ef       |          1 | 2002-02-05 | 2023-02-17 11:46:00+05:30 | Male
 17 | Rad        | Ripsher    | rripsher1@cocolog-nifty.com | 7318203254 | rripsher1    | XaF6uX       |          3 | 2003-08-30 | 2023-01-05 14:05:00+05:30 | Male
 18 | Lonnie     | Tarbard    | ltarbard2@weebly.com        | 2088202323 | ltarbard2    | fkGNrm       |          7 | 2012-10-30 | 2023-01-29 05:28:00+05:30 | Male
 19 | Newton     | Beldom     | nbeldom3@tripod.com         | 9105924398 | nbeldom3     | MsAJdurqvqIz |          9 | 2018-10-10 | 2023-02-10 23:06:00+05:30 | Male
 20 | Ethe       | Downing    | edowning4@fastcompany.com   | 5167204325 | edowning4    | XxLacF4      |          5 | 1993-03-03 | 2023-02-23 03:46:00+05:30 | Male
 21 | Andrey     | Fryd       | afryd5@cmu.edu              | 7161592822 | afryd5       | 1lprxTZaq    |         15 | 2022-11-01 | 2023-01-15 19:14:00+05:30 | Female
 22 | Ibrahim    | Dorrity    | idorrity6@tinyurl.com       | 9665654644 | idorrity6    | DanmL6g      |          2 | 2022-03-30 | 2022-10-28 14:43:00+05:30 | Male
 23 | Berti      | Sherlock   | bsherlock7@weibo.com        | 8728756665 | bsherlock7   | obt2s6GPbxv  |          4 | 2013-01-09 | 2022-05-13 12:06:00+05:30 | Female
 24 | Bendite    | Danis      | bdanis8@live.com            | 4922883725 | bdanis8      | UIWjfEN      |          6 | 2009-02-22 | 2022-07-09 02:32:00+05:30 | Male
 25 | Alyse      | Mapplebeck | amapplebeck9@sakura.ne.jp   | 7402722084 | amapplebeck9 | OwKrBNveZ    |         10 | 2014-08-16 | 2022-05-25 05:49:00+05:30 | Female
 26 | Muriel     | Kibbel     | mkibbela@indiegogo.com      | 9358185298 | mkibbela     | rRIkLR       |         11 | 2017-09-25 | 2022-11-21 05:57:00+05:30 | Female
 27 | Lonna      | Premble    | lprembleb@salon.com         | 8484292339 | lprembleb    | fDKbZZ       |          8 | 2005-03-23 | 2023-01-18 22:00:00+05:30 | Female
 28 | Marlo      | Scrymgeour | mscrymgeourc@csmonitor.com  | 1176070248 | mscrymgeourc | 6waWNAwz     |         13 | 2011-10-30 | 2022-07-16 19:58:00+05:30 | Male
 29 | Ashly      | Hiley      | ahileye@biglobe.ne.jp       | 8836875761 | ahileye      | 1m03cP9Z     |         12 | 1990-03-14 | 2022-12-06 05:59:00+05:30 | Male
 30 | Gilberta   | Coxhead    | gcoxheadd@mapy.cz           | 3127590453 | gcoxheadd    | b4EQLkNTfLF  |         14 | 2000-07-25 | 2023-02-03 01:03:00+05:30 | Female

 
 21). insertion in checkout_details table :-
 
 	COPY checkout_details(order_id,check_at,customer_address_id,delivery_charge)
	FROM '/home/beryl/Desktop/demo/something/food_ordering_tables/checkout_details.csv' 
	DELIMITER ',' CSV HEADER ;

	select * from checkout_details;
	 id | order_id |  check_at  | customer_address_id | delivery_charge 
	----+----------+------------+---------------------+-----------------
	  1 |        2 | 2023-02-10 |                   5 |              40
	  2 |        9 | 2023-01-09 |                  10 |              20
	  3 |        3 | 2023-01-22 |                  13 |              20
	  4 |       10 | 2022-08-08 |                   1 |              60
	  5 |       12 | 2022-09-22 |                  11 |              40

 22). insertion in menu_categories :-
 
 	COPY menu_categories(id,name)
	FROM '/home/beryl/Desktop/demo/something/food_ordering_tables/menu_categories.csv' 
	DELIMITER ',' CSV HEADER ;

	select * from menu_categories ;
	 id |   name    
	----+-----------
	  1 | chinese
	  2 | french
	  3 | japanese
	  4 | indian
	  5 | italian
	  6 | spanish
	  7 | thai
	  8 | mexicon
	  9 | american
	 10 | turkish
	 11 | breakfast
	 12 | lunch
	 13 | dinner

 23). insertion in menu_items :-
 
 	COPY menu_items(restaurant_id,menu_category_id,name,price,description,veg)
	FROM '/home/beryl/Desktop/demo/something/food_ordering_tables/menu_items.csv' 
	DELIMITER ',' CSV HEADER ;

	food_ordering=# select * from menu_items;
	
 id | restaurant_id | menu_category_id |          name           | price |                                description                                | veg 
----+---------------+------------------+-------------------------+-------+---------------------------------------------------------------------------+-----
  1 |             3 |                5 | pizza                   |   230 | 1 medium , paneer and onion                                               | t
  2 |             1 |               11 | Sandwish                |   120 | 2 pic , Corn and spinach whole wheat                                      | t
  3 |             7 |                4 | Biryani                 |   450 | 1 kg, Mutton hyderabadi Dum biryani                                       | f
  4 |             9 |                4 | Dal makhani             |   140 | 1 plate , Urad dal and rajma                                              | t
  5 |             4 |                9 | Crispy veg burger       |    70 | Crispy veg patty burger                                                   | t
  6 |            10 |                4 | 2-Aloo pyaaz paratha    |   242 | Served with curd                                                          | t
  7 |             5 |                4 | Tandoori chicken        |   249 | 1/2 kg ,Tandori marinated & spiced                                        | f
  8 |             1 |                4 | Paneer paratha          |    90 | 2 pic                                                                     | t
  9 |             6 |                2 | Veg grilled sandwich    |   100 | 2 pic with cheese                                                         | t
 10 |            10 |                4 | Veg Thali               |   350 | shahi paneer,Dal makhani,Mix Veg,Rice,Raita,Butter roti,Gulab jamun,Onion | t
 11 |             2 |                6 | Grilled chicken Breast  |   550 | 146g protein,18g fat,2g fiber                                             | f
 12 |             8 |                4 | Royal biryani           |   685 | 1 kg , slow cooked with tandoori spiced prawn                             | f
 13 |             2 |                7 | Lemon grill chicken     |   224 | 200g chicken breast                                                       | f
 14 |             9 |                4 | Achari paneer tikka     |   315 | 10 pic of paneer with green sauce                                         | t
 15 |             7 |                4 | Murgh Malai seekh       |   660 | Creamy kebabs made with spiced chicken keema                              | f
 16 |             8 |                4 | Falooda                 |   137 | 15g , with Ice-cream                                                      | t
 17 |             3 |                5 | Chicken pepperoni pizza |   850 | 1 medium, classic italian                                                 | f
 18 |             4 |               12 | Veg whopper             |   169 | Signature veg patty whopper                                               | t
 19 |             6 |                8 | Grilled Burger          |    85 | Mouth watering taste                                                      | t
 20 |             5 |                9 | Butter Chicken Rara     |   425 | full plate ,Butter chicken with minced butter chicken gravy               | f


 24). insertion the vehicles :-
 
 	COPY vehicles(id,name,brand_name,registration_number,purchase_date,rc,insurance_certificate_number,pollution_certificate_number)
	FROM '/home/beryl/Desktop/demo/something/food_ordering_tables/vehicles.csv' 
	DELIMITER ',' CSV HEADER ;
	
	food_ordering=# select * from vehicles ;
	
 id |          name          |   brand_name    | registration_number | purchase_date |     rc     | insurance_certificate_number | pollution_certificate_number 
----+------------------------+-----------------+---------------------+---------------+------------+------------------------------+------------------------------
  1 | Honda Shine            | Honda           | KA02AB1234          | 2020-01-01    | ABC1234567 | XYZ9876543                   | PQR4567890
  2 | Yamaha FZ              | Yamaha          | KA05CD5678          | 2019-05-15    | DEF2345678 | ABC8765432                   | STU5678901
  3 | Bajaj Pulsar           | Bajaj           | KA03EF9012          | 2021-09-30    | GHI3456789 | JKL7654321                   | VWX6789012
  4 | KTM Duke               | KTM             | KA09GH3456          | 2018-11-21    | MNO4567891 | DEF7654321                   | TUV1234567
  5 | TVS Apache             | TVS             | KA01IJ7890          | 2022-02-10    | PQR5678901 | GHI2345678                   | ABC7890123
  6 | Suzuki Gixxer          | Suzuki          | KA08KL2345          | 2017-06-12    | STU6789012 | MNO3456789                   | DEF9012345
  7 | Hero Splendor          | Hero            | KA04MN6789          | 2019-03-24    | ABC2345678 | XYZ4567890                   | GHI5678901
  8 | Royal Enfield Classic  | Royal Enfield   | KA12OP9012          | 2020-08-17    | DEF3456789 | PQR9012345                   | JKL6789012
  9 | Kawasaki Ninja         | Kawasaki        | KA11QR5678          | 2022-01-08    | XYZ7890123 | STU1234567                   | ABC2345678
 10 | Harley Davidson Street | Harley Davidson | KA07ST1234          | 2018-05-19    | JKL8901234 | VWX4567890                   | TUV7890123


	
